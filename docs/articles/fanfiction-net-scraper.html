<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>absentfan • absentfan</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="absentfan">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">absentfan</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/fanfiction-net-scraper.html">absentfan</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>absentfan</h1>
                        <h4 class="author">Elizaveta Kravchenko and Griffin Barich</h4>
            
            <h4 class="date">2018-12-19</h4>
      
      
      <div class="hidden name"><code>fanfiction-net-scraper.Rmd</code></div>

    </div>

    
    
<p><code>absetfan</code> is a comprehensive web scraping tool for retrieval of information from the site <a href="fanfiction.net" class="uri">fanfiction.net</a>. “Fanfiction” is a storyform where fans of a particular “fandom,” or narrative from one of several media types (ex, books, movies, comics, etc), create written pieces using details from those original narratives. These details can be as specific or general as the fan ordains; the stories could involve the same setting as the original fandom, the same world conditions (ex, include magic), the same or similar characters, and any permutation of associated characteristics. Writers range from novice to highly skilled.</p>
<p>The authors of this package see fanfiction.net as a potentially rich and underutilized text data source; operating since 1998 with a community of over 10 million registered users, the site hosts a substantial volume of curious and slightly unorthodox information (<a href="https://en.wikipedia.org/wiki/FanFiction.Net">link</a>). Access to individual fandom story listings may offer insight to current usages of the storytelling platform, as well as shifting popularities of different narratives (through exploration of reviews, post numbers, follows, favorites, and so on). Working with the raw data presented within story chapters could facilitate practice in text mining, or reveal patterns in narrative construction. Tracking such patterns could offer analysis relevant to a greater cultural context, as narratives like <em>50 Shades of Gray</em> originally got their beginnings from fan written work (in this case, a <em>Twilight</em> fanfiction).</p>
<p>Overall, <code>absentfan</code> may offer access to a plethora of user queried data excellent for use in exploring R base functions and text mining techniques.</p>
<p>For more on fanfiction, we recommend you look here(<a href="https://www.newyorker.com/books/page-turner/the-promise-and-potential-of-fan-fiction">via</a>)</p>
<div id="featured-functionality" class="section level2">
<h2 class="hasAnchor">
<a href="#featured-functionality" class="anchor"></a>Featured Functionality</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(absentfan)</code></pre></div>
<div id="scrape-all-of-the-entries-in-a-particular-fandom" class="section level3">
<h3 class="hasAnchor">
<a href="#scrape-all-of-the-entries-in-a-particular-fandom" class="anchor"></a>1. Scrape all of the entries in a particular fandom</h3>
<p>A for instance, a user might really love the movie <em><a href="https://www.imdb.com/title/tt0196229/">Zoolander</a></em>, and want to see if people have written any stories on the protagonist, Derek. For this, <code>absentfan</code> offers the function <code>scrapeAllEntries</code>, which is the equivalent of going to <a href="https://www.fanfiction.net/movie/Zoolander/" class="uri">https://www.fanfiction.net/movie/Zoolander/</a> and copying all of the listed entries with their associated information. <code>scrapeAllEntries</code> takes as parameters a “story,” or the title of a fandom (here, “Zoolander”), and a “type,” or medium in which the story exists (here, “movie”)</p>
<p>Note that in accordance with the fanfiction.net terms of use, the scraper works as “human speed;” that is, each page is scraped at the rate of one second per page.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">zool &lt;-<span class="st"> </span><span class="kw"><a href="../reference/scrapeAllEntries.html">scrapeAllEntries</a></span>(<span class="st">"Zoolander"</span>, <span class="st">"movie"</span>)
<span class="kw">head</span>(zool)
<span class="co">#&gt;                            name         author</span>
<span class="co">#&gt; 1   Toasting Away the Bad Times       KatLeePT</span>
<span class="co">#&gt; 2           Passionate Vacation       KatLeePT</span>
<span class="co">#&gt; 3                        Hotter       KatLeePT</span>
<span class="co">#&gt; 4 The Lion King 3 Scar's return Xephos yogcast</span>
<span class="co">#&gt; 5            The Boys of Summer       KatLeePT</span>
<span class="co">#&gt; 6            Hansel Does the Do       rhyejess</span>
<span class="co">#&gt;                                                                                                                                         description</span>
<span class="co">#&gt; 1                                                                                                      Hunks shouldn't drink alone. Slash. Drabble.</span>
<span class="co">#&gt; 2                                                                                           Summer vacation had never been so wild. Slash. Drabble.</span>
<span class="co">#&gt; 3                                                                                                 Home is always where it's hotter! Slash. Drabble.</span>
<span class="co">#&gt; 4                                                          Scar returned from the dead with his new army! How will Simba and the others defeat him?</span>
<span class="co">#&gt; 5 Derek always gets jealous whenever any one else catches Hansel's eye, but there's no really no reason for him to be so jealous.  Slash.  Drabble.</span>
<span class="co">#&gt; 6                                                                                                                     Hansel does Derek Jr.'s hair.</span>
<span class="co">#&gt;   rating language         theme chapters words reviews favs follows</span>
<span class="co">#&gt; 1     K+  English Drama/Romance        1   463       1    1    &lt;NA&gt;</span>
<span class="co">#&gt; 2      T  English Romance/Drama        1   463       2    1    &lt;NA&gt;</span>
<span class="co">#&gt; 3     K+  English Humor/Romance        1   461       2 &lt;NA&gt;    &lt;NA&gt;</span>
<span class="co">#&gt; 4     K+  English Drama/Romance        1   158       5 &lt;NA&gt;    &lt;NA&gt;</span>
<span class="co">#&gt; 5      K  English Humor/Romance        1   218       3    3    &lt;NA&gt;</span>
<span class="co">#&gt; 6      K  English          &lt;NA&gt;        1   107       2    4    &lt;NA&gt;</span>
<span class="co">#&gt;   updated  published</span>
<span class="co">#&gt; 1      NA  1/24/2013</span>
<span class="co">#&gt; 2      NA  1/24/2013</span>
<span class="co">#&gt; 3      NA  1/24/2013</span>
<span class="co">#&gt; 4      NA         NA</span>
<span class="co">#&gt; 5      NA   8/3/2012</span>
<span class="co">#&gt; 6      NA 10/23/2011</span></code></pre></div>
<p>Now, the user can see how many stories are available on fanfiction.net about <em>Zoolander</em>, their summaries, as well as their ratings, follows, and update information. For personal use, this is a great snapshot for searching through available fanfics. For larger data sets, this data frame can offer a comprehensive look at what kinds of narratives are being written in a particular fandom (perhaps through using summaries as documents in textual analysis), as well as when people were interacting with these stories (through publish and follow/review data) and how big this community really is (through tracking how many unique creators appear in the data).</p>
<div id="additional-functionality" class="section level4">
<h4 class="hasAnchor">
<a href="#additional-functionality" class="anchor"></a>Additional functionality</h4>
<p>Certain fandoms have a very large amount of associated fiction; at the point of package creation, <em>Harry Potter</em> leads with 799K entries, and <em>Star Wars</em> with 50.1K. Due to the aforementioned terms, this may cause scraping of larger fandoms to take a much longer time.</p>
<p>The <code>max.entries</code> feature of this function allows for a specific number of entries to be scraped, resulting in a data frame of a limited number of rows. Users then can access a subset of the information posted on the fanfiction.net site without having to needlessly wait.</p>
<p>Simply specify the total number of entries to be scraped to the parameter <code>max.entries</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">zool &lt;-<span class="st"> </span><span class="kw"><a href="../reference/scrapeAllEntries.html">scrapeAllEntries</a></span>(<span class="st">"Zoolander"</span>, <span class="st">"movie"</span>, <span class="dt">max.entries=</span><span class="dv">3</span>)
zool
<span class="co">#&gt;                          name   author</span>
<span class="co">#&gt; 1 Toasting Away the Bad Times KatLeePT</span>
<span class="co">#&gt; 2         Passionate Vacation KatLeePT</span>
<span class="co">#&gt; 3                      Hotter KatLeePT</span>
<span class="co">#&gt;                                               description rating language</span>
<span class="co">#&gt; 1            Hunks shouldn't drink alone. Slash. Drabble.     K+  English</span>
<span class="co">#&gt; 2 Summer vacation had never been so wild. Slash. Drabble.      T  English</span>
<span class="co">#&gt; 3       Home is always where it's hotter! Slash. Drabble.     K+  English</span>
<span class="co">#&gt;           theme chapters words reviews favs follows updated published</span>
<span class="co">#&gt; 1 Drama/Romance        1   463       1    1    &lt;NA&gt;      NA 1/24/2013</span>
<span class="co">#&gt; 2 Romance/Drama        1   463       2    1    &lt;NA&gt;      NA 1/24/2013</span>
<span class="co">#&gt; 3 Humor/Romance        1   461       2 &lt;NA&gt;    &lt;NA&gt;      NA 1/24/2013</span></code></pre></div>
</div>
</div>
<div id="scrape-all-of-the-chapter-information-to-a-data-frame" class="section level3">
<h3 class="hasAnchor">
<a href="#scrape-all-of-the-chapter-information-to-a-data-frame" class="anchor"></a>2. Scrape all of the chapter information to a data frame</h3>
<p>Another for instance; a user is interested in tracking a particular fanfiction written about the play <em><a href="https://stageagent.com/shows/play/4385/almost-maine">Almost, Maine</a></em>. They have read the story called <strong><a href="https://www.fanfiction.net/s/11790579/1/Kiss">Kiss</a></strong>, and are looking for the raw text to be able to track most frequent terms, run LDA, and see whether any insight can be drawn from the structure of this particular narrative.</p>
<p>The <code>absentfan</code> package offers the <code>getFullStory</code> function, which again takes as parameters a “story,” or the fandom in question; a “type,” or medium the story is published in; and the “title” of the particular fanfiction entry the user desires.</p>
<p>The resulting function generates a data frame with two columns containing all of the textual chapter information of a particular fanfiction. One column contains the raw text of an entry; another tracks the chapter assignment to that text entry, if applicable.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">almost &lt;-<span class="st"> </span><span class="kw"><a href="../reference/getFullStory.html">getFullStory</a></span>(<span class="st">"Almost, Maine"</span>, <span class="st">"play"</span>, <span class="st">"Kiss"</span>)
<span class="kw">head</span>(almost)
<span class="co">#&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                text</span>
<span class="co">#&gt; 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               And there he stands in between the performances. The one that played East. That one boy you used to be so in love with... but you no longer are. It almost hurts to see him there and have all those memories. It does hurt, but you can ignore it.</span>
<span class="co">#&gt; 2 The sad thing, however? At auditions, you almost got a part. Almost. The very word that is the basis of the whole play, and it applies so perfectly to your situation. You almost got placed in a scene with him. Almost. You felt the energy between the two of you, and it suddenly made you understand why, exactly, people act.There was such a raw, emotional connection. For a split second, there was no you and him. There was just one being, one ball of energy, auditioning for a play underneath the hot stage lights that made you sweat and your eyes water. You could feel it, and by looking in his eyes, you knew he did too. And when his lips touched your cheek, about an inch away from your left ear, it felt like getting zapped with electricity. You aren't one for sentimentality or sappiness - really, you aren't! - but that was a moment where things felt right.You were Rhonda and he was Dave, and the energy between you was electric. All of the things in the past you shared? You let it out right there on stage. That was when you finally let go of it. All of it. After he kissed you, you yelled at him with everything you had in you - all of the hate, anger, regret, love, and pain - and hoped you could get the part. You only did children's theatre, so you needed this. You needed the chance to be mature and let yourself go! You had to feel all of that as strongly as you possibly could.And you did. You left everything you had on that stage, with your teacher whispering to her auditioning assistant and the eyes of your peers still glued on you.</span>
<span class="co">#&gt; 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           He was cast as East, and you automatically became jealous of the girl cast as Glory. You wanted to connect with him. You were longing for some sense of closure, some way to tie up and throw away all of the love you felt for him.You weren't cast - at all. You volunteered for concessions during one showing, but went home because you felt sick.</span>
<span class="co">#&gt; 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Why did you still care?You saw him, and you loved him. It was simple. But you weren't good enough. You made him hate you, albeit accidentally. You were the villain for making things be this way. Perhaps he couldn't feel things like love. Maybe somebody broke his heart and it turned to slate. He could've been on his way to go tell somebody yes, or to get back the love that he had given away.With him, the most you could hope for was that he wanted to be close by going the long way around. You knew this wasn't true, but maybe, just maybe, it was.</span>
<span class="co">#&gt; 5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        You went to see the very first showing, and you went to see the very last.After the very last one, you tried to get close to him. You wanted to kiss him and see if that brought some sense of closure. You waited for him.Eventually you saw him leave through the back door. You followed him, hoping that you could get that kiss. By the time you had gotten out there, it was almost too late. He was unlocking his car door.You paused under the glow of the streetlight, wondering what to say. You eventually just ran to him, but he had already slammed his car door behind him.</span>
<span class="co">#&gt; 6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              You were alone in the parking lot under the stars and street lamp. He was gone. You were here.You were so close to it. You could've gotten that last bit of closure if you were just a bit faster.You almost had it.</span>
<span class="co">#&gt;   chapter</span>
<span class="co">#&gt; 1       1</span>
<span class="co">#&gt; 2       1</span>
<span class="co">#&gt; 3       1</span>
<span class="co">#&gt; 4       1</span>
<span class="co">#&gt; 5       1</span>
<span class="co">#&gt; 6       1</span></code></pre></div>
</div>
<div id="create-a-readable-html-output-of-the-scraped-narrative" class="section level3">
<h3 class="hasAnchor">
<a href="#create-a-readable-html-output-of-the-scraped-narrative" class="anchor"></a>3. Create a readable html output of the scraped narrative</h3>
<p>For users interested in simply reading the stories, there is an option to generate an html output of the scraped narrative. Simply call the story using the parameters in the format of the chapter scraper (<code>getFullStory</code>), but within a <code>storyPrint</code> function call.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/storyPrint.html">storyPrint</a></span>(<span class="st">"Steven Universe"</span>, <span class="st">"cartoon"</span>, <span class="st">"Gem Funeral"</span>)</code></pre></div>
</div>
</div>
<div id="maintaining-the-scraper" class="section level2">
<h2 class="hasAnchor">
<a href="#maintaining-the-scraper" class="anchor"></a>Maintaining the Scraper</h2>
<div id="update-repository-of-story-tags" class="section level3">
<h3 class="hasAnchor">
<a href="#update-repository-of-story-tags" class="anchor"></a>Update Repository of Story Tags</h3>
<p>The <code>absentfan</code> package uses a pre-scraped list of href tags from the fanfiction.net media pages to get information about stories or the stories themselves. If the user feels that the fandom they are looking for is missing due to it being very recent (after 2018), they may use the <code>updateTypeMedia</code> function to update the overall list of fandoms available for scraping with this package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">typeMedia &lt;-<span class="st"> </span><span class="kw"><a href="../reference/updateTypeMedia.html">updateTypeMedia</a></span>()</code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#featured-functionality">Featured Functionality</a></li>
      <li><a href="#maintaining-the-scraper">Maintaining the Scraper</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Elizaveta Kravchenko, Griffin Barich.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
